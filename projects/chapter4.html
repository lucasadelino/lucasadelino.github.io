<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Chapter 4 - Naive Bayes Sentiment Classifier" /><meta property="og:locale" content="en" /><meta name="description" content="Homepage of Lucas Adelino, graduate student in Computational Linguistics." /><meta property="og:description" content="Homepage of Lucas Adelino, graduate student in Computational Linguistics." /><link rel="canonical" href="https://www.lucasadelino.com/projects/chapter4.html" /><meta property="og:url" content="https://www.lucasadelino.com/projects/chapter4.html" /><meta property="og:site_name" content="Lucas Adelino" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Chapter 4 - Naive Bayes Sentiment Classifier" /><meta name="twitter:site" content="@lcsadelino" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Homepage of Lucas Adelino, graduate student in Computational Linguistics.","url":"https://www.lucasadelino.com/projects/chapter4.html","@type":"WebPage","headline":"Chapter 4 - Naive Bayes Sentiment Classifier","@context":"https://schema.org"}</script><title>Chapter 4 - Naive Bayes Sentiment Classifier | Lucas Adelino</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Lucas Adelino"><meta name="application-name" content="Lucas Adelino"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en">
<div class="profile-wrapper text-center">
<div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/lucas_avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a>
</div>
<div class="site-title mt-3"> <a href="/">Lucas Adelino</a>
</div>
<div class="site-subtitle font-italic">Computational Linguistics Graduate Student</div>
</div>
<ul class="w-100">
<li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a>
</li>
<li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a>
</li>
<li class="nav-item"> <a href="/experience/" class="nav-link"> <i class="fa-fw fas fa-briefcase ml-xl-3 mr-xl-3 unloaded"></i> <span>EXPERIENCE</span> </a>
</li>
<li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a>
</li>
</ul>
<div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/lucasadelino" aria-label="github" class="order-3" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/lcsadelino" aria-label="twitter" class="order-4" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href%20=%20'mailto:'%20+%20%5B'lcsadelino','gmail.com'%5D.join('@')" aria-label="email" class="order-5"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6"> <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span>
</div>
</div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span> <a href="/projects"> Projects </a> </span> <span>Chapter 4 - Naive Bayes Sentiment Classifier</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div>
</div></div><div id="main-wrapper">
<div id="main">
<div class="row">
<div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
<h1 data-toc-skip>Chapter 4 - Naive Bayes Sentiment Classifier</h1>
<div class="post-meta text-muted d-flex flex-column"><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1433 words">7 min read</span>
</div></div>
<div class="post-content">
<h2 id="what-it-is">What it is</h2>
<p>A Naive Bayes classifier trained on a corpus of 105,195 movie reviews in Portuguese, built by scrapping user film reviews from <a href="http://filmow.com" target="_blank" rel="noopener noreferrer">Filmow</a>.</p>
<h2 id="the-setup">The setup</h2>
<p><a href="https://web.stanford.edu/~jurafsky/slp3/4.pdf" target="_blank" rel="noopener noreferrer">Chapter 4 of Jurafsky &amp; Martin</a> introduces the reader to Naive Bayes classifiers. The chapter provided a description of the algorithm for the classifier (in pseudocode), so I thought that trying my hand at implementing it in Python would make for interesting practice.</p>
<p>The chapter provided examples on how to use the classifier for analyzing the sentiment of movie reviews. I decided that I would test my implementation using movie reviews as well, but, to put my own spin on it, I would use movie reviews written in Portuguese.</p>
<h2 id="the-process">The process</h2>
<h3 id="challenge-1-working-with-dictionaries-to-implement-the-classifier">Challenge #1: Working with dictionaries to implement the classifier</h3>
<p>For reference, here’s the algorithm provided by Jurafsky and Martin:</p>
<p><img data-proofer-ignore data-src="/assets/nbalgorithm.PNG" alt="nbalgorithm"> <em><a href="https://web.stanford.edu/~jurafsky/slp3/4.pdf#figure.4.2" target="_blank" rel="noopener noreferrer">Jurafsky &amp; Martin (2021), p. 6</a></em></p>
<p>The function to train the Naive Bayes classifier takes two arguments: the list of documents <strong>D</strong>, and their associated classes <strong>C</strong>. While the pseudocode outlines the overall structure of the function, we still have to decide how to represent D and C in Python. Since each document necessarily belongs to a class, we can represent both D and C as a single dictionary in which each key is the name of a class and each value is the list of documents that belongs to that class. Each document is itself a list of words. Here’s how that would look like, using an example from the textbook:</p>
<div class="language-python highlighter-rouge">
<div class="code-header"> <span text-data=" Python "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button>
</div>
<div class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="rouge-code"><pre><span class="n">class_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'negative'</span><span class="p">:</span> <span class="p">[[</span><span class="s">'just'</span><span class="p">,</span> <span class="s">'plain'</span><span class="p">,</span> <span class="s">'boring'</span><span class="p">],</span> 
                           <span class="p">[</span><span class="s">'entirely'</span><span class="p">,</span> <span class="s">'predictable'</span><span class="p">,</span> <span class="s">'and'</span><span class="p">,</span> <span class="s">'lacks'</span><span class="p">,</span> <span class="s">'energy'</span><span class="p">],</span> 
                           <span class="p">[</span><span class="s">'no'</span><span class="p">,</span> <span class="s">'surprises'</span><span class="p">,</span> <span class="s">'and'</span><span class="p">,</span> <span class="s">'very'</span><span class="p">,</span> <span class="s">'few'</span><span class="p">,</span> <span class="s">'laughs'</span><span class="p">]],</span>
              <span class="s">'positive'</span><span class="p">:</span> <span class="p">[[</span><span class="s">'very'</span><span class="p">,</span> <span class="s">'powerful'</span><span class="p">],</span> 
                           <span class="p">[</span><span class="s">'the'</span><span class="p">,</span> <span class="s">'most'</span><span class="p">,</span> <span class="s">'fun'</span><span class="p">,</span> <span class="s">'film'</span><span class="p">,</span> <span class="s">'of'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'summer'</span><span class="p">]]}</span>
</pre></td>
</tr></tbody></table></code></div>
</div>
<p>Having decided on how to represent classes and documents, it was time to actually implement the algorithm. The process of computing priors, calculating word counts for each class, and generating a vocabulary for all classes would require the creation of more dictionaries. Some of these would be “invisible” (like the total number of words of each class), some would be returned by the function (like the list of log priors for each class), but all of them would require a bunch of iteration to be created. This was a little confusing! I knew I would need to take a step back figure out how to do this without getting lost. I did this in the following ways:</p>
<ul>
<li>I made several ‘for’ loops — even if they were redundant. I did this to teach myself what would need to happen in each iteration, so that later, once I had that figured out, I could collapse any redundant loops together.</li>
<li>In comments throughout the code, I wrote example dictionaries, just so I was 100% sure how each dictionary would be structured. These really helped! Whenever I was unsure of what to do in an iterator, I looked to them for reference.</li>
<li>I used random variable names just to keep the flow of writing going. I knew these could be confusing, but stopping to think of a better name would interrupt my train of thought.</li>
</ul>
<p>You can check out that first version of the code <a href="https://git.io/Ja5xG" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 id="challenge-2-building-a-corpus-of-movie-reviews-in-portuguese">Challenge #2: Building a corpus of movie reviews in Portuguese</h3>
<p>Once I had the Naive Bayes classifier working, it was time to find a corpus of film reviews to train the classifier. For my n-gram project, I was fortunate enough to find a corpus on the internet. I had hoped to do the same for this project, but if there are any corpora of movie reviews in Portuguese out there, I could not find them. This meant that I would have to build my own, which looked like a good opportunity to learn web scraping with Python (which I knew virtually nothing about).</p>
<p>First, I had to decide where I would get my data from. My first instinct was <a href="http://www.imdb.com" target="_blank" rel="noopener noreferrer">IMDB</a> or <a href="http://www.letterboxd.com" target="_blank" rel="noopener noreferrer">Letterboxd</a>, both of which have official APIs, but most user reviews in these platforms are written in English. I then set my sights on <a href="https://filmow.com/" target="_blank" rel="noopener noreferrer">Filmow</a>, a film-centered Brazilian social network.</p>
<p><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20988%20909'%3E%3C/svg%3E" data-proofer-ignore data-src="/assets/filmowss.png" alt="Filmow" width="988" height="909"> <em>Profile of Dune (2021) on Filmow</em></p>
<p>Filmow does not have an API, so I needed to think of a way to scrape the website from scratch. I first asked for help from a <a href="https://github.com/hugobrancowb" target="_blank" rel="noopener noreferrer">web developer friend</a> to make sense of Filmow’s website, using Firefox’s Developer Tools (all I knew was how to find specific HTML elements in a website using the inspector). My friend showed me how to use the ‘dev tools’ Console tab to run custom scripts and the ‘network’ tab to track requests sent to Filmow. Then, I studied the <a href="https://automatetheboringstuff.com/2e/chapter12/" target="_blank" rel="noopener noreferrer">Web Scraping chapter</a> of Automate the Boring Stuff with Python, which introduced me to the <a href="https://docs.python-requests.org/en/latest/" target="_blank" rel="noopener noreferrer">Requests</a> and <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank" rel="noopener noreferrer">Beautiful Soup</a> modules.</p>
<p>With that, I felt I had enough knowledge to try my hand at scraping some comments. I first tried to make a simple script, using the Requests module, to grab the HTML from the user reviews of a film page in Filmow. I found out that if I gave Requests the link to such a page (like <a href="https://filmow.com/comentarios/22/284498/" target="_blank" rel="noopener noreferrer">this one</a> for instance), the module returned HTML with no comments at all. I didn’t understand why, but this prompted me to have another look at the page using Firefox’s dev tools. Looking at the requests received, I found that one of the requests was for a .JSON object, and that .JSON object was what contained the HTML code for the comments! What was more, I got the same kind of object whenever I clicked on the “Load more comments” button in each comment page. I also found out I could get a direct link to that object, which looked like this on my browser:</p>
<p><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20400'%3E%3C/svg%3E" data-proofer-ignore data-src="/assets/jsonss.png" alt="Json" width="300" height="400"> <em>Example of a JSON object in Firefox</em></p>
<p>At the time I didn’t quite know what .JSON objects were, but after quick googling I learned that they behaved just like Python dictionaries, and that the Requests module could represent .JSON objects using the .json() method. This was enough to allow me to write the code.</p>
<p>I first wrote a <a href="https://git.io/Jab1J" target="_blank" rel="noopener noreferrer">simple scraper</a> to find all the comments of a single film. It took some tinkering to make sure it worked (reading the Requests and Beautiful Soup documentation helped a lot), but after that, I knew enough about scraping to quickly write <a href="https://git.io/Jab5T" target="_blank" rel="noopener noreferrer">another scraper</a>. This one would look through the Filmow’s film catalog and return a bunch of film codes (a 1 to 6-digit string of numbers that Filmow uses to identify each film). I saved the <a href="https://git.io/JrrOA" target="_blank" rel="noopener noreferrer">film codes of 2400 films</a>, which I could then feed to the comment scraper to automatically get the comments of any number of films.</p>
<h3 id="challenge-3-testing-the-program">Challenge #3: Testing the program</h3>
<p>Since I wanted to use these comments to train a Naive Bayes classifier, I used the scraper to only target the text from positive (3 out of 5 stars or more) or negative (2/5 stars or less) reviews. I saved these in different .txt files, which you can find here: <a href="https://git.io/JaN4X" target="_blank" rel="noopener noreferrer">positivo.txt</a> / <a href="https://git.io/JaNB0" target="_blank" rel="noopener noreferrer">negativo.txt</a>.</p>
<p>Now here’s something interesting: after running the comment scraper on 100 movies, the .txt file for negative comments had about 1MB. Meanwhile, the file for positive comments had 21MB! This is because user ratings for films on Filmow, on average, tend to be more positive than negative. I knew that the Naive Bayes classifier takes the number of documents in a class into account, but I was still curious to see how it behaved with such lopsided data. I tested the classifier using random reviews I wrote, and found that it would sometimes flag positive reviews as negative. For instance, it flagged this review as positive:</p>
<blockquote><p>“Esse filme é muito ruim” <em>(This movie is really bad)</em></p></blockquote>
<p>Here’s what I think is happening here: because there is so much more data in the ‘positive’ class, words such as ‘ruim’ <em>(bad)</em> occur often enough to make the classifier flag it as positive. In reality, the context in which ‘ruim’ occurs in positive comments can be something like “Este filme <strong>não</strong> é ruim” <em>(this film is <strong>not</strong> bad)</em>, but since the classifier only cares about how often words appear, it thinks ‘ruim’ is very likely to show up on a positive review.</p>
<p>To remedy this effect, I added more data to the negative reviews corpus (negative reviews from 500 films, positive reviews from 100 films). In the end, the data used to train the classifier had 26,932 negative documents and 78,263 positive comments. To test the classifier, I asked some friends what they thought about the last movie they had seen. The classifier more accurately predicted the sentiment of these reviews.</p>
</div>
<div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
<div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer"> CC BY 4.0 </a> by the author.</div>
<div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Chapter%204%20-%20Naive%20Bayes%20Sentiment%20Classifier%20-%20Lucas%20Adelino&amp;url=https://www.lucasadelino.com/projects/chapter4.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener noreferrer" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Chapter%204%20-%20Naive%20Bayes%20Sentiment%20Classifier%20-%20Lucas%20Adelino&amp;u=https://www.lucasadelino.com/projects/chapter4.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener noreferrer" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Chapter%204%20-%20Naive%20Bayes%20Sentiment%20Classifier%20-%20Lucas%20Adelino&amp;url=https://www.lucasadelino.com/projects/chapter4.html" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener noreferrer" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span>
</div>
</div></div>
</div></div>
<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">
<div class="access"></div>
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav>
</div>
</div>
</div>
<footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/lcsadelino" target="_blank" rel="noopener noreferrer">Lucas Adelino</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer>
</div>
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content">
<div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div>
<div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
</div></div>
</div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.lucasadelino.com{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-4FN8XC8V4J"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-4FN8XC8V4J'); }); </script>
